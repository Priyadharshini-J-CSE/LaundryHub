<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Notifications - LaundryHub</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alumni+Sans+Pinstripe:ital@0;1&family=Anta&family=Metamorphous&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" th:href="@{/student/dashboard}">Hostel Washing</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" th:href="@{/student/stones}">Stones</a>
                <a class="nav-link" th:href="@{/student/machines}">Machines</a>
                <a class="nav-link" th:href="@{/student/dhobi}">Dhobi</a>
                <a class="nav-link" th:href="@{/student/notifications}">Notifications</a>
                <a class="nav-link" th:href="@{/student/lost-found}">Lost & Found</a>
                <a class="nav-link" th:href="@{/logout}">Logout</a>
            </div>
        </div>
    </nav>
    
    <div class="container mt-4">
        <h2>Notifications</h2>
        
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">Your Notifications</h5>
            </div>
            <div class="card-body">
                <div th:if="${notifications != null and !notifications.isEmpty()}">
                    <div th:each="notification : ${notifications}" class="alert mb-3"
                         th:classappend="${notification.type.name() == 'STONE_BOOKED'} ? 'alert-success' : 
                                        ${notification.type.name() == 'MACHINE_BOOKED'} ? 'alert-info' : 
                                        ${notification.type.name() == 'LAUNDRY_ACCEPTED'} ? 'alert-success' : 
                                        ${notification.type.name() == 'LAUNDRY_REJECTED'} ? 'alert-danger' : 
                                        ${notification.type.name() == 'ITEM_FOUND'} ? 'alert-warning' : 'alert-secondary'">
                        
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <strong th:text="${notification.message}"></strong>
                                <br><small class="text-muted" th:text="${notification.createdAt}"></small>
                            </div>
                            <span class="badge" 
                                  th:classappend="${notification.type.name() == 'STONE_BOOKED'} ? 'bg-success' : 
                                                 ${notification.type.name() == 'MACHINE_BOOKED'} ? 'bg-info' : 
                                                 ${notification.type.name() == 'LAUNDRY_ACCEPTED'} ? 'bg-success' : 
                                                 ${notification.type.name() == 'LAUNDRY_REJECTED'} ? 'bg-danger' : 
                                                 ${notification.type.name() == 'ITEM_FOUND'} ? 'bg-warning' : 'bg-secondary'"
                                  th:text="${notification.type}"></span>
                        </div>
                    </div>
                </div>
                
                <div th:if="${notifications == null or notifications.isEmpty()}" class="text-muted text-center py-4">
                    <i class="fas fa-bell-slash fa-3x mb-3"></i>
                    <p>No notifications yet</p>
                </div>
            </div>
        </div>
        
        <div class="card mt-3">
            <div class="card-header bg-secondary text-white">
                <h5 class="mb-0">General Updates</h5>
            </div>
            <div class="card-body">
                <div class="alert alert-info">
                    <ul class="mb-0">
                        <li>Stone #3 is now available</li>
                        <li>Machine #2 will be free in 30 minutes</li>
                        <li>New washing machines installed in Block B</li>
                        <li>Maintenance scheduled for Sunday 2-4 PM</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>